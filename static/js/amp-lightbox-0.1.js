;
(self.AMP=self.AMP||[]).push({m:1,v:"2210272257000",n:"amp-lightbox",ev:"0.1",l:!0,f:function(t,i){(()=>{var i,{isArray:s}=Array,{hasOwnProperty:n,toString:h}=Object.prototype;function e(t){const i=Object.create(null);return t&&Object.assign(i,t),i}function o(t,i,s,n,h,e,o,r,l,a,c){return t}function r(t){return(t.ownerDocument||t).defaultView}function l(t){try{t.focus()}catch(t){}}function a(t){const i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;const{message:s,stack:n}=t,h=new Error(s);for(const i in t)h[i]=t[i];return h.stack=n,h}function c(t){let i=null,s="";for(const t of arguments)t instanceof Error&&!i?i=a(t):(s&&(s+=" "),s+=t);return i?s&&(i.message=s+": "+i.message):i=new Error(s),i}function u(t){var i,s;null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t)}function f(t,...i){try{return t.apply(null,i)}catch(t){!function(t){const i=c.apply(null,arguments);setTimeout((()=>{throw u(i),i}))}(t)}}var d,m,p="i-amphtml-element",_=t=>t.unmount();function P(t,i,s,n){if(i&&t.classList.contains(p)){const i=t;if(f(n,i),!s){const t=i.getPlaceholder();return void(t&&P(t,!0,!1,n))}}const h=t.getElementsByClassName(p);let e=null;for(let t=0;t<h.length;t++){const i=h[t];if(s)f(n,i);else{e=e||[];let t=!1;for(let s=0;s<e.length;s++)if(e[s].contains(i)){t=!0;break}t||(e.push(i),f(n,i))}}}function A(t){return function(t,i){o(1===i.length),t.innerHTML=i[0];const s=t.firstElementChild;return o(s),o(!s.nextElementSibling),t.removeChild(s),s}(d,t)}var v=["Webkit","webkit","Moz","moz","ms","O","o"],g={"getPropertyPriority":()=>"","getPropertyValue":()=>""};function b(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return v.some((t=>i.startsWith(t+"-")))?`-${i}`:i}function E(t,i,s){if(i.startsWith("--"))return i;m||(m=e());let n=m[i];if(!n||s){if(n=i,void 0===t[i]){const s=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),h=function(t,i){for(let s=0;s<v.length;s++){const n=v[s]+i;if(void 0!==t[n])return n}return""}(t,s);void 0!==t[h]&&(n=h)}s||(m[i]=n)}return n}function M(t,i){const{style:s}=t;for(const t in i)s.setProperty(b(E(s,t)),String(i[t]),"important")}function y(t,i,s,n,h){const e=E(t.style,i,h);if(!e)return;const o=n?s+n:s;t.style.setProperty(b(e),o)}function T(t,i){for(const s in i)y(t,s,i[s])}function I(t){return`${t}px`}function R(t){return"display"in t&&function(t,...i){const s=c.apply(null,i);s.name=t||s.name,u(s)}("STYLE","`display` style detected. You must use toggle instead."),t}var V=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function w(t,i=""){try{return decodeURIComponent(t)}catch(t){return i}}function x(t){const{location:i}=t||self;return function(t){const i=e();if(!t)return i;let s;for(;s=V.exec(t);){const t=w(s[1],s[1]),n=s[2]?w(s[2].replace(/\+/g," "),s[2]):"";i[t]=n}return i}(i.originalHash||i.hash)}var k="";function C(t){const i=t||self;return i.__AMP_MODE?i.__AMP_MODE:i.__AMP_MODE=function(t){return{localDev:!1,development:O(t,x(t)),esm:!0,test:!1,rtvVersion:S(t),ssrReady:!1}}(i)}function S(t){var i;return k||(k=(null===(i=t.AMP_CONFIG)||void 0===i?void 0:i.v)||"012210272257000"),k}function O(t,i){const s=i||x(t);return["1","actions","amp","amp4ads","amp4email"].includes(s.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var D=self.__AMP_LOG;function z(t,i){throw new Error("failed to call initLogConstructor")}function B(t){return z()}function j(t,i,s,n,h,e,o,r,l,a,c){return t}function H(t,i){return F(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function Y(t,i){return F(X($(t)),i)}function $(t){return t.nodeType?(i=r(t),H(i,"ampdoc")).getAmpDoc(t):t;var i}function X(t){const i=$(t);return i.isSingleDoc()?i.win:i}function F(t,i){j(G(t,i));const s=function(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}(t)[i];return s.obj||(j(s.ctor),j(s.context),s.obj=new s.ctor(s.context),j(s.obj),s.context=null,s.resolve&&s.resolve(s.obj)),s.obj}function G(t,i){const s=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!s||!s.ctor)}var L,W=t=>Y(t,"owners"),U=t=>F(t,"timer"),N=class{constructor(){this.Xt=null}add(t){return this.Xt||(this.Xt=[]),this.Xt.push(t),()=>{this.remove(t)}}remove(t){this.Xt&&function(t,i){const s=t.indexOf(i);-1!=s&&t.splice(s,1)}(this.Xt,t)}removeAll(){this.Xt&&(this.Xt.length=0)}fire(t){if(this.Xt)for(const i of this.Xt.slice())i(t)}getHandlerCount(){var t,i;return null!==(t=null===(i=this.Xt)||void 0===i?void 0:i.length)&&void 0!==t?t:0}},Z="__AMP_Gestures",q=class{static get(t,i=!1,s=!1){let n=t[Z];return n||(n=new q(t,i,s),t[Z]=n),n}constructor(t,i=!1,s=!1){this.Df=t,this.Hk=[],this.t_=[],this.gi=[],this.Yk=[],this.Gk=null;const n=function(t){if(void 0!==L)return L;L=!1;try{const i={get passive(){return L=!0,!1}};t.addEventListener("test-options",null,i),t.removeEventListener("test-options",null,i)}catch(t){}return L}(t.ownerDocument.defaultView);this.Wk=i||n,this.qk=s,this.Xk=!1,this.Ze=new class{constructor(t,i,s){this.qe=U(t),this.We=i,this.Ke=s||0,this.Ye=-1,this.Je=0,this.Qe=!1,this.Xe=()=>{this.Ze()}}isPending(){return-1!=this.Ye}schedule(t){let i=t||this.Ke;this.Qe&&i<10&&(i=10);const s=Date.now()+i;return(!this.isPending()||s-this.Je<-10)&&(this.cancel(),this.Je=s,this.Ye=this.qe.delay(this.Xe,i),!0)}Ze(){this.Ye=-1,this.Je=0,this.Qe=!0,this.We(),this.Qe=!1}cancel(){this.isPending()&&(this.qe.cancel(this.Ye),this.Ye=-1)}}(r(t),this.$d.bind(this)),this.Kk=new N,this.Zk=Object.create(null),this.Jk=this.Hp.bind(this),this.Qk=this.Bp.bind(this),this.iS=this.Xp.bind(this),this.sS=this.h_.bind(this),this.Df.addEventListener("touchstart",this.Jk,!!n&&{passive:!0}),this.Df.addEventListener("touchend",this.Qk),this.Df.addEventListener("touchmove",this.iS,!!n&&{passive:!0}),this.Df.addEventListener("touchcancel",this.sS),this.oS=!1}cleanup(){this.Df.removeEventListener("touchstart",this.Jk),this.Df.removeEventListener("touchend",this.Qk),this.Df.removeEventListener("touchmove",this.iS),this.Df.removeEventListener("touchcancel",this.sS),delete this.Df[Z],this.Ze.cancel()}onGesture(t,i){const s=new t(this),n=s.getType();let h=this.Zk[n];return h||(this.Hk.push(s),h=new N,this.Zk[n]=h),h.add(i)}removeGesture(t){const i=new t(this).getType(),s=this.Zk[i];if(s){s.removeAll();const t=function(t,s){for(let s=0;s<t.length;s++)if(t[s].getType()==i)return s;return-1}(this.Hk);return!(t<0||(this.Hk.splice(t,1),this.gi.splice(t,1),this.Yk.splice(t,1),this.t_.splice(t,1),delete this.Zk[i],0))}return!1}onPointerDown(t){return this.Kk.add(t)}Hp(t){const i=Date.now();this.Xk=!1,this.Kk.fire(t);for(let s=0;s<this.Hk.length;s++)this.gi[s]||(this.Yk[s]&&this.Yk[s]<i&&this.o_(s),this.Hk[s].onTouchStart(t)&&this.u_(s));this.rS(t)}Xp(t){const i=Date.now();for(let s=0;s<this.Hk.length;s++)this.t_[s]&&(this.Yk[s]&&this.Yk[s]<i?this.o_(s):this.Hk[s].onTouchMove(t)||this.o_(s));this.rS(t)}Bp(t){const i=Date.now();for(let s=0;s<this.Hk.length;s++){if(!this.t_[s])continue;if(this.Yk[s]&&this.Yk[s]<i){this.o_(s);continue}this.Hk[s].onTouchEnd(t);const n=!this.Yk[s],h=this.Yk[s]<i;this.Gk==this.Hk[s]||!n&&!h||this.o_(s)}this.rS(t)}h_(t){for(let t=0;t<this.Hk.length;t++)this.aS(t);this.rS(t)}Cp(t,i){if(this.Gk)return void t.acceptCancel();const s=Date.now();for(let n=0;n<this.Hk.length;n++)this.Hk[n]==t&&(this.gi[n]=s+i,this.Yk[n]=0);this.oS=!0}hS(t,i){if(this.Gk)return void t.acceptCancel();const s=Date.now();for(let n=0;n<this.Hk.length;n++)this.Hk[n]==t&&(this.Yk[n]=s+i)}lS(t){this.Gk==t&&(this.Gk=null,this.Xk=!0)}pS(t,i,s){o(this.Gk==t);const n=this.Zk[t.getType()];n&&n.fire(new class{constructor(t,i,s,n){this.type=t,this.data=i,this.time=s,this.event=n}}(t.getType(),i,Date.now(),s))}rS(t){let i=!!this.Gk||this.Xk;if(this.Xk=!1,!i){const t=Date.now();for(let s=0;s<this.Hk.length;s++)if(this.gi[s]||this.Yk[s]&&this.Yk[s]>=t){i=!0;break}}i?(t.stopPropagation(),this.Wk||t.preventDefault()):this.qk&&t.stopPropagation(),this.oS&&(this.oS=!1,this.$d())}$d(){const t=Date.now();let i=-1;for(let s=0;s<this.Hk.length;s++)this.gi[s]?(-1==i||this.gi[s]>this.gi[i])&&(i=s):this.Yk[s]&&this.Yk[s]<t&&this.o_(s);if(-1==i)return;let s=0;for(let i=0;i<this.Hk.length;i++)!this.gi[i]&&this.t_[i]&&(s=Math.max(s,this.Yk[i]-t));s<2?this.mS(i):this.Ze.schedule(s)}mS(t){const i=this.Hk[t];for(let i=0;i<this.Hk.length;i++)i!=t&&this.aS(i);this.gi[t]=0,this.Yk[t]=0,this.Gk=i,i.acceptStart()}u_(t){this.t_[t]=!0,this.Yk[t]=0}o_(t){this.t_[t]=!1,this.Yk[t]=0,this.gi[t]||this.Hk[t].acceptCancel()}aS(t){this.gi[t]=0,this.o_(t)}};function J(t,i,s){i<1&&(i=1);const n=t/i,h=.5+Math.min(i/33.34,.5);return n*h+s*(1-h)}function K(t){return t.classList.contains("i-amphtml-fie")||!!function(t,i){return t.closest(".i-amphtml-fie")}(t)}Math.round(-16.67/Math.log(.95)),new Set(["c","v","a","ad"]);var Q=['<i-amphtml-ad-close-header role=button tabindex=0 aria-label="Close Ad"><div>Ad</div><i-amphtml-ad-close-button class=amp-ad-close-button></i-amphtml-ad-close-button></i-amphtml-ad-close-header>'],tt="amp-lightbox",it={"fade-in":{openStyle:{"opacity":1},closedStyle:{"opacity":0},durationSeconds:.1},"fly-in-bottom":{openStyle:{"transform":"translate(0, 0)"},closedStyle:{"transform":"translate(0, 100%)"},durationSeconds:.2},"fly-in-top":{openStyle:{"transform":"translate(0, 0)"},closedStyle:{"transform":"translate(0, -100%)"},durationSeconds:.2}},st=class extends t.BaseElement{constructor(t){super(t),this.wh=null,this.Of=null,this.zo=this.win.document,this.Hc=null,this.sY=null,this.XX=!1,this.nY=null,this.hY=null,this.eY=null,this.F$=null,this.oY=!1,this.rY=0,this.lY=0,this.aY=null,this.cY=(t.getAttribute("animate-in")||"fade-in").toLowerCase(),this.uY=null,this.z$=null,this.fY=null;const i=H(this.win,"platform");this.$$=i.isIos(),this.dY=function(t,i,s){let n=0,h=0,e=null;function o(){n=0;const s=500-(t.Date.now()-h);var r;s>0?n=t.setTimeout(o,s):(r=e,e=null,i.apply(null,r))}return function(...i){h=t.Date.now(),e=i,n||(n=t.setTimeout(o,500))}}(this.win,(()=>{const t=(D.user||(D.user=B()),function(t,i){return i}(D.user.win,undefined)?D.userForEmbed||(D.userForEmbed=B()):D.user).assertElement(this.Of,"E#19457 this.container_"),i=W(this.element);i.scheduleLayout(this.element,t),i.scheduleResume(this.element,t)}))}buildCallback(){var t,i;this.user().assert((t=it,i=this.cY,n.call(t,i)),"Invalid `animate-in` value %s",this.cY),this.element.classList.add("i-amphtml-overlay"),this.Hc=function(t,i){const s=X($(t));return G(s,i)?F(s,i):null}(this.element,"action"),this.mY(),this.registerDefaultAction((t=>this.GX(t.trust,t.caller)),"open"),this.registerAction("close",(t=>this.close(t.trust))),this.Hc.addToAllowlist("AMP-LIGHTBOX",["open","close"],["email"])}pY(){j(this.oY),this._Y().forEach((t=>{W(this.element).setOwner(t,this.element)}))}_Y(){return(t=this.element.getElementsByClassName("i-amphtml-element"))?Array.prototype.slice.call(t):[];var t}Le(){if(this.Of)return;const{element:t}=this;this.oY=t.hasAttribute("scrollable");const i=function(t){return function(t,i){const s=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling)!(function(t){let i;var s;return"string"==typeof t?i=t:1==(null==(s=t)?void 0:s.nodeType)&&(i=t.tagName),!!i&&i.toLowerCase().startsWith("i-")}(n=i)||n.nodeType===Node.ELEMENT_NODE&&(n.hasAttribute("placeholder")||n.hasAttribute("fallback")||n.hasAttribute("overflow")))&&s.push(i);var n;return s}(t)}(this.element);this.Of=t.ownerDocument.createElement("div"),this.oY||function(t,i){t.classList.add("i-amphtml-fill-content")}(this.Of),t.appendChild(this.Of),i.forEach((t=>{this.Of.appendChild(t)})),this.oY&&(this.pY(),t.classList.add("i-amphtml-scrollable"),t.addEventListener("amp:dom-update",(()=>{this.pY(),this.PY(this.rY)})),t.addEventListener("scroll",this.tp.bind(this))),this.oY||q.get(t).onGesture(class extends class extends class{constructor(t,i){this.XC=t,this.K_=i}getType(){return this.XC}signalReady(t){this.K_.Cp(this,t)}signalPending(t){this.K_.hS(this,t)}signalEnd(){this.K_.lS(this)}signalEmit(t,i){this.K_.pS(this,t,i)}acceptStart(){}acceptCancel(){}onTouchStart(t){return!1}onTouchMove(t){return!1}onTouchEnd(t){}}{constructor(t,i,s,n){super(t,i),this.KC=s,this.ZC=n,this.Gk=!1,this.JC=0,this.QC=0,this.tz=0,this.iz=0,this.sz=0,this.nz=0,this.Dr=0,this.ez=0,this.oz=0,this.rz=0,this.az=0}onTouchStart(t){const{touches:i}=t;return!!(this.Gk&&i&&i.length>1)||!(!i||1!=i.length)&&(this.Dr=Date.now(),this.JC=i[0].clientX,this.QC=i[0].clientY,!0)}onTouchMove(t){const{touches:i}=t;if(i&&i.length>=1){const{clientX:s,clientY:n}=i[0];if(this.tz=s,this.iz=n,this.Gk)this.hz(!1,!1,t);else{const t=Math.abs(s-this.JC),i=Math.abs(n-this.QC);if(this.KC&&this.ZC)(t>=8||i>=8)&&this.signalReady(-10);else if(this.KC){if(t>=8&&t>i)this.signalReady(-10);else if(i>=8)return!1}else{if(!this.ZC)return!1;if(i>=8&&i>t)this.signalReady(-10);else if(t>=8)return!1}}return!0}return!1}onTouchEnd(t){const{touches:i}=t;i&&0==i.length&&this.lz(t)}acceptStart(){this.Gk=!0,this.sz=this.JC,this.nz=this.QC,this.oz=this.Dr,this.JC=this.tz,this.QC=this.iz,this.hz(!0,!1,null)}acceptCancel(){this.Gk=!1}hz(t,i,s){this.ez=Date.now();const n=this.ez-this.oz;if(!i&&n>4||i&&n>16){const t=J(this.tz-this.sz,n,this.rz),s=J(this.iz-this.nz,n,this.az);(!i||n>32||0!=t||0!=s)&&(this.rz=Math.abs(t)>1e-4?t:0,this.az=Math.abs(s)>1e-4?s:0),this.sz=this.tz,this.nz=this.iz,this.oz=this.ez}this.signalEmit({first:t,last:i,time:this.ez,deltaX:this.tz-this.JC,deltaY:this.iz-this.QC,startX:this.JC,startY:this.QC,lastX:this.tz,lastY:this.iz,velocityX:this.rz,velocityY:this.az},s)}lz(t){this.Gk&&(this.Gk=!1,this.hz(!1,!0,t),this.signalEnd())}}{constructor(t){super("swipe-xy",t,!0,!0)}},(()=>{})),this.AY()}layoutCallback(){return i||(i=Promise.resolve(void 0))}GX(t,i){if(this.XX)return;this.Le(),this.hY=this.vY.bind(this),this.zo.documentElement.addEventListener("focusin",this.hY),i&&(this.F$=i);const{promise:s,resolve:n}=new class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}};return this.getViewport().enterLightboxMode(this.element,s).then((()=>this.gY(n,t)))}mutatedAttributesCallback(t){const i=t.open;void 0!==i&&(i?this.GX(2,document.activeElement):this.close(2))}bY(){const t=this.Of.querySelector("[autofocus]");t&&l(t)}gY(t,i){const{element:s}=this,{closedStyle:n,durationSeconds:h,openStyle:e}=this.EY(),o=Object.keys(e).map((t=>`${t} ${h}s ease-in`)).join(",");this.lY++,this.oY&&y(s,"webkitOverflowScrolling","touch"),y(s,"transition",o),T(s,R(n)),function(t,i){void 0===i&&(i=t.hasAttribute("hidden")),i?t.removeAttribute("hidden"):t.setAttribute("hidden","")}(s,!0),this.mutateElement((()=>{s.scrollTop=0})),this.bY(),this.mutateElement((()=>{T(s,R(e))}));const r=this.Of;this.oY&&(this.tp(),this.PY(this.rY));const l=()=>{this.dY(),t()};s.addEventListener("transitionend",l),s.addEventListener("animationend",l),this.setAsContainer();const a=W(this.element);a.scheduleLayout(this.element,r),a.scheduleResume(this.element,r),this.aO("lightboxOpen",i),this.sY=new class{constructor(t,i){const{win:s}=t;if(this.i=s,this.We=i,this.MY=null,this.cr=null,this.DX=-1,this.BX=null,"function"==typeof s.CloseWatcher)try{this.MY=new s.CloseWatcher}catch(t){(D.dev||(D.dev=z())).error("CloseWatcherImpl","CloseWatcher failed:",t)}this.MY?this.MY.onclose=()=>{i(),this.destroy()}:(this.cr=Y(t,"history"),this.cr.push((()=>i())).then((t=>{this.DX=t})),this.BX=this.UX.bind(this),s.document.documentElement.addEventListener("keydown",this.BX))}signalClosed(){this.MY?this.MY.signalClosed():this.We&&((0,this.We)(),this.destroy())}destroy(){this.We=null,this.MY?(this.MY.destroy(),this.MY=null):-1!=this.DX&&(j(this.cr).pop(this.DX),this.DX=-1,this.cr=null,this.i.document.documentElement.removeEventListener("keydown",this.BX))}UX(t){"Escape"==t.key&&(t.preventDefault(),this.signalClosed())}}(this.getAmpDoc(),(()=>this.close(3))),this.yY(),this.TY(),this.IY(),this.XX=!0}AY(){const{element:t}=this;null!=t.getAttribute("close-button")&&(this.uY=function(t){const i=t.ownerDocument||t;return d&&d.ownerDocument===i||(d=i.createElement("div")),A}(t)(Q),t.insertBefore(this.uY,this.Of))}yY(){if(!this.uY)return;let t;this.nY=this.RY.bind(this),this.uY.addEventListener("keydown",this.nY),this.measureMutateElement((()=>{t=this.uY.getBoundingClientRect().height}),(()=>{this.VY(),M(this.Of,{"margin-top":I(t),"min-height":`calc(100vh - ${I(t)})`})}))}VY(){this.uY.classList.add("amp-ad-close-header")}IY(){(this.fY||this.uY)&&(this.eY=this.wY.bind(this),this.z$.addEventListener("click",this.eY))}xY(){(this.fY||this.uY)&&(this.z$.removeEventListener("click",this.eY),this.eY=null,this.uY&&(this.uY.removeEventListener("keydown",this.nY),this.nY=null))}EY(){return it[this.cY]}wY(){this.close(3)}RY(t){"Enter"==t.key&&(t.preventDefault(),this.close(3))}close(t){this.XX&&(this.oY&&y(this.element,"webkitOverflowScrolling",""),this.getViewport().leaveLightboxMode(this.element).then((()=>this.kY(t))))}kY(t){const{element:i}=this,n=++this.lY,h=()=>{n==this.lY&&(this.collapse(),this.dY())};this.CY()?(function(t,i){for(let s=0;s<i.length;s++)y(t,i[s],null)}(i,["transition"]),h()):(i.addEventListener("transitionend",h),i.addEventListener("animationend",h)),T(i,R(this.EY().closedStyle)),this.sY&&(this.sY.destroy(),this.sY=null),this.zo.documentElement.removeEventListener("focusin",this.hY),this.hY=null,this.xY(),this.removeAsContainer(),function(t,i=!0){!function(t,i,n,h){const e=s(o=t)?o:[o];var o;for(let t=0;t<e.length;t++)P(e[t],i,!0,h)}(t,i,0,_)}(this.element,!1),W(this.element).schedulePause(this.element,this.Of),this.XX=!1,this.aO("lightboxClose",t),this.F$&&l(this.F$)}CY(){return"inabox"==C(this.win).runtime||K(this.element)}SY(){const{element:t}=this;return!!t.contains(document.activeElement)}vY(){this.SY()||this.close(3)}TY(){this.SY()||(this.z$=this.hW(),this.z$||(this.fY=this.nK(),this.element.insertBefore(this.fY,this.element.firstChild),this.z$=this.fY),l(this.z$))}hW(){if(this.z$)return this.z$;if(this.uY)return this.uY;const{element:t}=this,i=t.querySelectorAll("[on]");for(let s=0;s<i.length;s++){const n=i[s];if(this.Hc.hasResolvableActionForTarget(n,"tap",t,j(n.parentElement)))return n}}nK(){const{element:t}=this,i=t.getAttribute("data-close-button-aria-label")||"Close the modal",s=this.zo.createElement("button");return s.textContent=i,s.classList.add("i-amphtml-screen-reader"),s.tabIndex=-1,s}tp(){const t=this.element.scrollTop;this.$$&&(0==t?this.element.scrollTop=1:this.element.scrollHeight==t+this.element.offsetHeight&&(this.element.scrollTop=t-1)),this.rY=t,null===this.aY&&this.OY(t)}OY(t){this.aY=U(this.win).delay((()=>{Math.abs(t-this.rY)<30?(this.aY=null,this.un(this.rY)):this.OY(this.rY)}),100)}un(t){this.PY(t),this.rY=t}PY(t){const i=[];this.DY(t,(t=>{i.push(t),W(this.element).scheduleLayout(this.element,t)}))}DY(t,i){const s=this.zY().height,n=this._Y();for(let h=0;h<n.length;h++){const e=n[h];let o=0;for(let t=e;t&&this.element.contains(t);t=t.offsetParent)o+=t.offsetTop;const r=2*s;o+e.offsetHeight>=t-r&&o<=t+r&&i(e)}}zY(){return this.wh||(this.wh={width:this.element.clientWidth,height:this.element.clientHeight}),this.wh}mY(){const{element:t,win:i}=this;K(t)&&nt(i,i.document.body)}aO(t,i){const s=function(t,i,s,n){const h={detail:{}};return Object.assign(h,void 0),new t.CustomEvent(i,h)}(this.win,`${tt}.${t}`);this.Hc.trigger(this.element,t,s,i)}};function nt(t,i){const s={},n=(t=>H(t,"ampdoc"))(t).getAmpDoc(i);var h;(h=n,Y(h,"mutator")).measureMutateElement(i,(function(){s.alreadyTransparent="rgba(0, 0, 0, 0)"==function(t,i){return t.getComputedStyle(i)||g}(t,i)["background-color"]}),(function(){s.alreadyTransparent,M(i,{background:"transparent"})}))}"inabox"==C().runtime&&nt(window,j(document.body)),t.registerElement(tt,st,'amp-lightbox{display:none;position:fixed!important;z-index:1000;top:0!important;left:0!important;bottom:0!important;right:0!important}amp-lightbox[scrollable]{overflow-y:auto!important;overflow-x:hidden!important}amp-lightbox i-amphtml-ad-close-header{height:60px!important;display:block!important;visibility:visible!important;opacity:0;position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1000!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:right!important;justify-content:right!important;transition:opacity 0.1s ease-in}[animate-in=fly-in-bottom]>i-amphtml-ad-close-header,[animate-in=fly-in-top]>i-amphtml-ad-close-header{transition-delay:0.2s}amp-lightbox .amp-ad-close-header{opacity:1!important;box-sizing:border-box;padding:5px;line-height:40px;background-color:#000;color:#fff;font-family:Helvetica,sans-serif;font-size:12px;cursor:pointer}amp-lightbox .amp-ad-close-header>:first-child{margin-left:auto!important;pointer-events:none!important}amp-lightbox .amp-ad-close-button{display:block!important;background:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23fff"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\') no-repeat;background-position:50%;width:40px;height:40px;pointer-events:none!important;border-radius:40px;margin-left:5px}amp-lightbox .amp-ad-close-header:active>.amp-ad-close-button{background-color:hsla(0,0%,100%,0.3)}\n/*# sourceURL=/extensions/amp-lightbox/0.1/amp-lightbox.css*/')})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-lightbox-0.1.mjs.map