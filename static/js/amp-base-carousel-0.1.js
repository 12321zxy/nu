;
(self.AMP=self.AMP||[]).push({m:1,v:"2210272257000",n:"amp-base-carousel",ev:"0.1",l:!0,f:function(t,s){(()=>{var s;function i(t){return t?Array.prototype.slice.call(t):[]}var{hasOwnProperty:e,toString:r}=Object.prototype;function n(t,s,i,e,r,n,o,h,a,l,c){return t}var o,h={bubbles:!0,cancelable:!0};function a(t,s){const{length:i}=t;for(let e=0;e<i;e++)s(t[e],e)}function l(t,s,i){const e=t.hasAttribute(s),r=void 0!==i?i:!e;return r!==e&&(r?t.setAttribute(s,""):t.removeAttribute(s)),r}function c(t){const s=t.ownerDocument||t;return o&&o.ownerDocument===s||(o=s.createElement("div")),u}function u(t){return function(t,s){n(1===s.length),t.innerHTML=s[0];const i=t.firstElementChild;return n(i),n(!i.nextElementSibling),t.removeChild(i),i}(o,t)}function d(t,s,i){let e=0,r=0,n=null;function o(){e=0;const h=i-(t.Date.now()-r);var a;h>0?e=t.setTimeout(o,h):(a=n,n=null,s.apply(null,a))}return function(...s){r=t.Date.now(),n=s,e||(e=t.setTimeout(o,i))}}function p(t,s,i,e,r,n,o,h,a,l,c){return t}function m(t,s){return f(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),s)}function _(t){return t.nodeType?(i=t,s=(i.ownerDocument||i).defaultView,m(s,"ampdoc")).getAmpDoc(t):t;var s,i}function A(t){const s=_(t);return s.isSingleDoc()?s.win:s}function f(t,s){p(b(t,s));const i=function(t){let s=t.__AMP_SERVICES;return s||(s=t.__AMP_SERVICES={}),s}(t)[s];return i.obj||(p(i.ctor),p(i.context),i.obj=new i.ctor(i.context),p(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function b(t,s){const i=t.__AMP_SERVICES&&t.__AMP_SERVICES[s];return!(!i||!i.ctor)}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var P,g=t=>function(t,s){return f(A(_(t)),"owners")}(t);function v(t,s,i,e){let r=t,n=i,o=t=>{try{return n(t)}catch(t){var s,i;throw null===(s=(i=self).__AMP_REPORT_ERROR)||void 0===s||s.call(i,t),t}};const h=function(){if(void 0!==P)return P;P=!1;try{const t={get capture(){return P=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return P}(),a=!(null==e||!e.capture);return r.addEventListener(s,o,h?e:a),()=>{null==r||r.removeEventListener(s,o,h?e:a),n=null,r=null,o=null}}function I(t,s,i,e){const r={detail:i};return Object.assign(r,e),new t.CustomEvent(s,r)}function w(t,s,i,e){return v(t,s,i,e)}function M(t){return t.detail}function x(t,s,i,e){let r=i;const n=v(t,s,(t=>{try{r(t)}finally{r=null,n()}}),e);return n}var E,T=["Webkit","webkit","Moz","moz","ms","O","o"];function R(t){const s=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return T.some((t=>s.startsWith(t+"-")))?`-${s}`:s}function V(t,s,i){if(k(s))return s;E||(E=Object.create(null));let e=E[s];if(!e||i){if(e=s,void 0===t[s]){const i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(s),r=function(t,s){for(let i=0;i<T.length;i++){const e=T[i]+s;if(void 0!==t[e])return e}return""}(t,i);void 0!==t[r]&&(e=r)}i||(E[s]=e)}return e}function S(t,s){const{style:i}=t;for(const t in s)i.setProperty(R(V(i,t)),String(s[t]),"important")}function y(t,s,i,e,r){const n=V(t.style,s,r);if(!n)return;const o=e?i+e:i;t.style.setProperty(R(n),o)}function k(t){return t.startsWith("--")}function C(t,s){return t>0&&s>0?t%s:(t%s+s)%s}function L(t,s,i){return n(s<=i),Math.min(Math.max(t,s),i)}var z="amp-carousel:indexchange",N="amp-carousel:scrollstart",O="amp-carousel:scrollpositionchange",B="start";function $(t,s){const{bottom:i,height:e,left:r,right:n,top:o,width:h}=s.getBoundingClientRect();return{start:0==t?r:o,end:0==t?n:i,length:0==t?h:e}}function j(t,s){const{end:i,start:e}=$(t,s);return(e+i)/2}function U(t,s){const{start:i}=$(t,s);return i}function W(t,s,i){return s==B?U(t,i):j(t,i)}function H(t,s,i){y(s,0==t?"width":"height",`${i}px`)}function Q(t,s,i){const{end:e,start:r}=$(t,s);return r<=i&&i<e}function D(t,s,i,e){const r=W(t,s,e),n=W(t,s,i),{length:o}=$(t,e);return(r-n)/o}function Z(t,s,i){!function(t,s,i){0==t?s.scrollLeft=i:s.scrollTop=i}(t,s,function(t,s){return 0==t?s.scrollLeft:s.scrollTop}(t,s)+i)}var F="i-amphtml-carousel-spacer";function q(t,s){const i=function(t,s,i){const e=V(t.style,"scrollBehavior",void 0);if(e)return k(e)?t.style.getPropertyValue(e):t.style[e]}(t);y(t,"scrollBehavior","auto"),s(),y(t,"scrollBehavior",i)}function K(t){return t.reduce(((t,s)=>t+s),0)}var X="__AMP_CAROUSEL_NEAR_VIEWPORT",G="__AMP_CAROUSEL_IN_VIEWPORT",J=100,Y=.01;function tt(t){return t.split(",").map((t=>{const s=/[a-z0-9.]+$/.exec(t);if(!s)return;const{index:i}=s,e=t.slice(i),r=t.slice(0,i).trim();return{mediaQueryList:window.matchMedia(r),value:e}})).filter(Boolean)}function st(t){for(let s=0;s<t.length;s++){const{mediaQueryList:i,value:e}=t[s];if(i.matches)return e}return""}var it=["<div class=i-amphtml-carousel-content><div class=i-amphtml-carousel-scroll tabindex=-1></div><div class=i-amphtml-base-carousel-arrows><div class=i-amphtml-base-carousel-arrow-prev-slot></div><div class=i-amphtml-base-carousel-arrow-next-slot></div></div></div>"],et=['<button class=i-amphtml-base-carousel-arrow aria-label="Next item in carousel"><div class=i-amphtml-base-carousel-arrow-frosting></div><div class=i-amphtml-base-carousel-arrow-backdrop></div><div class=i-amphtml-base-carousel-arrow-background></div><svg class=i-amphtml-base-carousel-arrow-icon viewBox="0 0 24 24"><path d="M10,7.4 L14.6,12 L10,16.6" fill=none stroke-width=2px stroke-linejoin=round stroke-linecap=round></path></svg></button>'],rt=['<button class=i-amphtml-base-carousel-arrow aria-label="Previous item in carousel"><div class=i-amphtml-base-carousel-arrow-frosting></div><div class=i-amphtml-base-carousel-arrow-backdrop></div><div class=i-amphtml-base-carousel-arrow-background></div><svg class=i-amphtml-base-carousel-arrow-icon viewBox="0 0 24 24"><path d="M14,7.4 L9.4,12 L14,16.6" fill=none stroke-width=2px stroke-linejoin=round stroke-linecap=round></path></svg></button>'],nt=class extends t.BaseElement{static prerenderAllowed(){return!0}constructor(t){var s;super(t),this.bQ=this.PQ(),this.$$=(s=this.win,m(s,"platform")).isIos(),this.gQ=null,this.vQ=null,this.IQ=[],this.wQ=null,this.MQ=null,this.xQ=!1,this.Hc=null,this.EQ=null,this.vg=2}PQ(){return new class{constructor(t){this.ZU=t,this.TQ={},this.RQ={}}updateAttribute(t,s){if(!this.ZU[t])return;const i=this.RQ[t];i&&this.VQ(i,null);const e=tt(s),r=()=>{this.SQ(t,st(e))};this.VQ(e,r),r(),this.RQ[t]=e}SQ(t,s){if(this.TQ[t]===s)return;const i=this.ZU[t];i&&i(s),this.TQ[t]=s}VQ(t,s){t.forEach((t=>{const{mediaQueryList:i}=t;i.onchange=s}))}}({"advance-count":t=>{this.vQ.updateAdvanceCount(Number(t)||0)},"auto-advance":t=>{this.vQ.updateAutoAdvance("true"===t)},"auto-advance-count":t=>{this.vQ.updateAutoAdvanceCount(Number(t)||0)},"auto-advance-interval":t=>{this.vQ.updateAutoAdvanceInterval(Number(t)||0)},"auto-advance-loops":t=>{this.vQ.updateAutoAdvanceLoops(Number(t)||0)},"controls":t=>{this.yQ(t)},"dir":t=>{this.vQ.updateForwards("rtl"!=t)},"horizontal":t=>{this.vQ.updateHorizontal("true"===t)},"loop":t=>{this.vQ.updateLoop("true"===t||""===t)},"mixed-length":t=>{this.vQ.updateMixedLength("true"===t)},"slide":t=>{this.vQ.goToSlide(Number(t))},"snap":t=>{this.vQ.updateSnap("true"===t)},"snap-align":t=>{this.vQ.updateAlignment(t)},"snap-by":t=>{this.vQ.updateSnapBy(Number(t)||0)},"visible-count":t=>{this.vQ.updateVisibleCount(Number(t)||0)}})}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}buildCallback(){this.Hc=function(t,s){const i=A(_(t));return b(i,s)?f(i,s):null}(this.element,"action"),this.kQ(),this.vQ=new class{constructor(t){const{element:s,initialIndex:i,runMutate:e,scrollContainer:r,win:n}=t;this.i=n,this.CQ=e,this.Df=s,this.gQ=r,this.LQ=new class{constructor(t){const{advanceable:s,element:i,scrollContainer:e,win:r}=t;this.i=r,this.gQ=e,this.zQ=s,this.NQ=0,this.LQ=!1,this.OQ=1,this.BQ=1e3,this.$Q=!1,this.jQ=!1,this.UQ=null,this.WQ=Number.POSITIVE_INFINITY,this.ji=i.getAmpDoc(),this.HQ(this.BQ),this.gQ.addEventListener("scroll",(()=>this.QQ()),!0),w(this.gQ,"touchstart",(()=>this.DQ()),{capture:!0,passive:!0}),w(i,z,(t=>{this.ZQ(t)}))}stop(){this.jQ=!0}pause(){this.$Q=!0}resume(){this.$Q=!1,this.FQ()}updateAutoAdvance(t){this.LQ=t,this.FQ()}updateAutoAdvanceCount(t){this.OQ=t,this.FQ()}updateAutoAdvanceInterval(t){this.BQ=Math.max(t,1e3),this.HQ(this.BQ),this.FQ()}updateMaxAdvances(t){this.WQ=t}HQ(t){const s=d(this.i,(()=>{s==this.UQ&&this.qQ()}),t);this.UQ=s}DQ(){this.pause(),x(window,"touchend",(()=>{this.resume()}),{capture:!0,passive:!0})}KQ(){return this.LQ&&this.ji.isVisible()&&!this.$Q&&!this.jQ&&this.NQ<this.WQ}QQ(){this.FQ()}ZQ(t){const s=M(t).actionSource;s&&4!==s&&this.stop()}qQ(){this.KQ()&&(this.zQ.advance(this.OQ,{actionSource:4,allowWrap:!0}),this.NQ+=this.OQ)}FQ(){this.KQ()&&this.UQ()}}({win:n,element:s,scrollContainer:r,advanceable:this}),this.XQ=new class{constructor(t){const{element:s,runMutate:i,scrollContainer:e,stoppable:r,win:n}=t;this.i=n,this.gQ=e,this.CQ=i,this.IQ=[],this.GQ=1,this.JQ=!1,this.YQ=!1,this.En=0,s.addEventListener("focus",(()=>{r.stop()}),!0),s.addEventListener(z,(t=>{this.UZ(t)}))}updateMixedLength(t){this.JQ=t}updateUi(){this.YQ||(this.YQ=!0,this.CQ((()=>{this.YQ=!1,this.WZ(),this.HZ()})))}updateSlides(t){this.IQ=t,this.updateUi()}updateVisibleCount(t){this.GQ=t,this.updateUi()}QZ(){return this.JQ||this.GQ>=2}WZ(){this.QZ()?(this.gQ.removeAttribute("aria-live"),this.gQ.setAttribute("role","list"),this.IQ.forEach((t=>{t.setAttribute("role","listitem")}))):(this.gQ.setAttribute("aria-live","polite"),this.gQ.removeAttribute("role"),this.IQ.forEach((t=>{t.removeAttribute("role")})))}HZ(){this.IQ.forEach(((t,s)=>{const i=!this.QZ()&&s!==this.En;t.setAttribute("aria-hidden",i)}))}UZ(t){const s=M(t).index;this.En=s,this.CQ((()=>{this.HZ()}))}}({win:n,element:s,scrollContainer:r,runMutate:e,stoppable:this.LQ}),this.XZ=d(n,(()=>this.JZ()),200),this.t0=1,this.s0=Number.POSITIVE_INFINITY,this.JQ=!1,this.IQ=[],this.i0=!0,this.YQ=!1,this.e0=[],this.r0=[],this.n0=[],this.o0=[],this.h0=!1,this.a0=!1,this.l0=0,this.c0=null,this.u0=NaN,this.d0=!1,this.p0=!1,this.m0=void 0,this._0=B,this.A0=0,this.f0=!0,this.b0=!0,this.AL=i||0,this.Ig=!1,this.$B=!0,this.P0=1,this.GQ=1,this.gQ.addEventListener("scroll",(()=>this.QQ()),!0),this.gQ.addEventListener("scrollend",(()=>this.g0()),!0),w(this.gQ,"touchstart",(()=>this.DQ()),{capture:!0,passive:!0}),w(this.gQ,"wheel",(()=>this.v0()),{capture:!0,passive:!0})}next(t){this.advance(this.t0,{actionSource:t})}prev(t){this.advance(-this.t0,{actionSource:t})}advance(t,s={}){const{AL:i,c0:e,IQ:r}=this,{actionSource:n,allowWrap:o=!1}=s,h=null!==e?e:i,a=h+t,l=r.length-1,c=0===h,u=h===l,d=a<0,p=a>l,m=t>0&&this.I0(h)&&this.I0(a);let _;_=this.isLooping()?C(a,l+1):o?m?0:d&&c||p&&!u?l:d&&!c||p&&u?0:a:m?h:L(a,0,l),this.goToSlide(_,{actionSource:n})}pauseLayout(){this.h0=!0,this.LQ.pause()}resumeLayout(){this.h0=!1,this.updateUi(),this.LQ.resume()}getCurrentIndex(){return this.AL}getVisibleCount(){return this.GQ}isLooping(){return this.Ig&&this.IQ.length/this.GQ>=3}goToSlide(t,s={}){const{actionSource:i,smoothScroll:e=!0}=s;t<0||t>this.IQ.length-1||isNaN(t)||t!==this.AL&&(this.d0||this.w0()||(this.a0=!1,this.c0=t,this.m0=i,this.M0(this.IQ[t],{smoothScroll:e})))}updateAdvanceCount(t){this.t0=t}updateAlignment(t){this._0="start"===t?B:"center",this.updateUi()}updateAutoAdvance(t){this.LQ.updateAutoAdvance(t)}updateAutoAdvanceCount(t){this.LQ.updateAutoAdvanceCount(t)}updateAutoAdvanceInterval(t){this.LQ.updateAutoAdvanceInterval(t)}updateAutoAdvanceLoops(t){this.s0=t,this.updateUi()}updateForwards(t){this.f0=t,this.updateUi()}updateHideScrollbar(t){this.b0=t,this.updateUi()}updateHorizontal(t){this.A0=t?0:1,this.updateUi()}updateLoop(t){this.Ig=t,this.updateUi()}updateMixedLength(t){this.JQ=t,this.XQ.updateMixedLength(t),this.updateUi()}updateSlides(t){const{length:s}=t;s?(this.IQ=t,this.AL=this.isLooping()?C(this.AL,s):L(this.AL,0,s-1)||0,this.XQ.updateSlides(t),this.updateUi()):this.Df.tagName.toUpperCase()}updateSnap(t){this.$B=t,this.updateUi()}updateSnapBy(t){this.P0=Math.max(1,t),this.updateUi()}updateUserScrollable(t){this.i0=t,this.updateUi()}updateUi(){this.YQ||this.h0||(this.YQ=!0,this.CQ((()=>{this.YQ=!1,this.gQ.setAttribute("mixed-length",this.JQ),this.gQ.setAttribute("user-scrollable",this.i0),this.gQ.setAttribute("hide-scrollbar",this.b0),this.gQ.setAttribute("horizontal",0===this.A0),this.gQ.setAttribute("loop",this.isLooping()),this.gQ.setAttribute("snap",this.$B),S(this.gQ,{"--visible-count":this.GQ}),this.IQ.length&&(this.LQ.updateMaxAdvances(this.s0*this.IQ.length-1),this.x0(),this.E0(),this.T0(),this.JZ(!0))})))}updateVisibleCount(t){this.GQ=Math.max(1,t),this.XQ.updateVisibleCount(t),this.updateUi()}R0(t,s){this.u0!==t&&(this.u0=t,this.Df.dispatchEvent(I(this.i,z,{"index":t,"total":this.IQ.length,"actionSource":s,"slides":this.IQ},{bubbles:!0})))}V0(t,s){this.AL=t,this.l0=s,this.Df.dispatchEvent(I(this.i,"amp-carousel:offsetchange",{"index":t,"total":this.IQ.length,"offset":this.f0?-s:s,"slides":this.IQ},{bubbles:!0}))}notifyScrollStart(){this.Df.dispatchEvent(I(this.i,N,null))}S0(){this.Df.dispatchEvent(I(this.i,O,null))}DQ(){this.d0=!0,this.m0=3,this.c0=null,this.a0=!1,x(window,"touchend",(()=>{this.d0=!1,this.XZ()}),{capture:!0,passive:!0})}v0(){this.m0=2,this.c0=null,this.a0=!1}QQ(){this.a0?this.a0=!1:(this.p0=!0,this.y0(),this.notifyScrollStart(),this.XZ())}g0(){null===this.c0&&this.JZ()}w0(){return this.p0&&(3===this.m0||2===this.m0)}k0(t,s,i){const e=s*i*(this.f0?1:-1);!function(t,s,i){const e=0==t?i:0,r=0==t?0:i;y(s,"transform",`translate(${e}px, ${r}px)`),S(s,{"--content-transform":`translate(${e}px, ${r}px)`})}(this.A0,t,e),t._revolutions=s}C0(t){this.IQ.forEach((s=>{this.k0(s,0,t)}))}L0(){return this.IQ.map((t=>$(this.A0,t).length))}isAtEnd(){return!this.isLooping()&&this.z0()}isAtStart(){return!this.isLooping()&&this.N0()}z0(){const t=this.gQ,s=t.getBoundingClientRect().width*(this.f0?1:-1),i=this.f0?Math.ceil(s):Math.floor(s),e=t.scrollLeft+i,r=t.scrollWidth;return this.f0?e>=r:e<=-r}N0(){const t=this.gQ.scrollLeft;return this.f0?t<=0:t>=0}O0(t){const s=[];for(let i=0;i<t;i++){const t=document.createElement("div");t.className=F,s.push(t)}return s}x0(){const{A0:t,IQ:s}=this,i=this.L0(),e=K(i),r=this.isLooping()?s.length:0;this.e0.forEach((t=>{this.gQ.removeChild(t)})),this.e0=this.O0(r),this.e0.forEach(((e,r)=>{H(t,e,i[r]),this.gQ.insertBefore(e,s[0])})),this.r0.forEach((t=>{this.gQ.removeChild(t)})),this.r0=this.O0(r),this.r0.forEach(((s,r)=>{H(t,s,i[r]),this.k0(s,-1,e),this.gQ.appendChild(s)})),this.n0.forEach((t=>{this.gQ.removeChild(t)})),this.n0=this.O0(r),this.n0.forEach(((s,r)=>{H(t,s,i[r]),this.k0(s,-1,e),this.gQ.appendChild(s)})),this.o0=this.e0.concat(this.r0,this.n0)}E0(){const t=this.IQ.length,s=this._0===B,i=1===C(this.GQ,2),e=s||i?"0%":"50%";a(this.gQ.children,((s,i)=>{const r=C(i,t),n=0===C(r,this.P0);!s.classList.contains(F)&&this.isLooping()||function(t,s){for(const i in s)y(t,i,s[i])}(s,{"scroll-snap-align":n?this._0:"none","scroll-snap-coordinate":n?e:"none"})}))}T0(){const{n0:t,e0:s,AL:i,IQ:e}=this,r=Math.max(0,e.length-i-1),n=Math.max(0,i-1);s.forEach(((t,n)=>{const o=function(t,s,i){const{length:e}=i;return t===s?e:C(t-s,e)}(i,n,s)>e.length-1;t.hidden=o||n<e.length-r})),t.forEach(((s,r)=>{const o=function(t,s,i){const{length:e}=i;return t===s?e:C(s-t,e)}(i,r,t)>e.length-1;s.hidden=o||r>n}))}y0(){const{_0:t,o0:s,A0:i,AL:e,gQ:r,IQ:n}=this,o=K(this.L0()),h=!!s.length,a=h?s:n,l=function(t,s,i,e,r){const n=W(t,s,i);if(Q(t,e[r],n))return r;for(let s=1;s<=e.length/2;s++){const i=C(r+s,e.length),o=C(r-s,e.length);if(Q(t,e[i],n))return i;if(Q(t,e[o],n))return o}}(i,t,r,a,h?e+n.length:e);if(void 0===l)return;const c=a[l],u=l%n.length,d=D(i,t,r,c);this.V0(u,d),u!==e&&this.CQ((()=>{this.B0(o)}))}JZ(t=!1){const{m0:s}=this;if(this.d0)return;if(this.m0=void 0,this.p0=!1,this.CQ((()=>{this.S0()})),this.u0===this.AL&&null===this.c0&&!t)return;null!==this.c0&&(this.AL=this.c0,this.c0=null,this.l0=0);const i=K(this.L0());this.CQ((()=>{this.R0(this.AL,s),this.V0(this.AL,this.l0),this.C0(i),this.T0(),this.B0(i),this.$0()}))}$0(){const{_0:t,A0:s,l0:i,AL:e,gQ:r,IQ:n}=this,o=n[e],h=D(s,t,r,o)-i,{length:a}=$(s,o),l=h*a;l&&(this.a0=!0,q(r,(()=>{Z(s,r,l)})))}M0(t,s){const{smoothScroll:i}=s;(i?(t,s)=>s():q)(this.gQ,(()=>{!function(t,s,i,e,r=0){const n=s==B,{length:o}=$(t,e);Z(t,i,(n?U(t,e):j(t,e))-(n?U(t,i):j(t,i))-r*o)}(this.A0,this._0,this.gQ,t)}))}j0(t,s,i){const{AL:e,u0:r,IQ:n}=this,o=n[e]._revolutions||0,h=i?1:-1;for(let a=1;a<=s;a++){const s=C(e+a*h,n.length);if(s===r&&e!==r)break;const l=n[s],c=s>e!==i?o+h:o;this.k0(l,c,t)}}B0(t){if(!this.isLooping())return;const{_0:s,IQ:i,GQ:e}=this,r=s===B?e-1:0,n=(i.length-1-r)/2,o=(i.length-1+r)/2;this.j0(t,Math.round(n),!1),this.j0(t,Math.round(o),!0)}I0(t){const{_0:s,IQ:i,GQ:e}=this,r=s===B?e:e/2;return t>=i.length-r}}({win:this.win,element:this.element,scrollContainer:this.gQ,initialIndex:this.U0(),runMutate:t=>this.mutateElement(t)}),i(this.element.attributes).forEach((t=>{this.W0(t.name,t.value)})),this.vQ.updateSlides(this.IQ),this.H0(),this.Q0(),this.gT(),this.D0()}isRelayoutNeeded(){return!0}pauseCallback(){this.vQ.pauseLayout()}resumeCallback(){this.vQ.resumeLayout()}layoutCallback(){return this.vQ.updateUi(),this.EQ.wasLaidOut(),s||(s=Promise.resolve(void 0))}unlayoutCallback(){return this.EQ.wasUnlaidOut(),!0}mutatedAttributesCallback(t){for(const s in t)this.W0(s,String(t[s]))}getSlides(){return this.IQ}goToSlide(t,s={}){const{actionSource:i,smoothScroll:e=!1}=s;this.vQ.goToSlide(t,{smoothScroll:e,actionSource:i})}interactionNext(){this.vQ.next(0)}interactionPrev(){this.vQ.prev(0)}kQ(){const{element:t}=this;let s,e;i(t.children).forEach((t=>{const i=t.getAttribute("slot");"prev-arrow"===i?s=t:"next-arrow"===i?e=t:"I-AMPHTML-SIZER"!==t.tagName&&this.IQ.push(t)})),t.appendChild(this.Z0()),this.gQ=t.querySelector(".i-amphtml-carousel-scroll"),this.MQ=this.element.querySelector(".i-amphtml-base-carousel-arrow-prev-slot"),this.wQ=this.element.querySelector(".i-amphtml-base-carousel-arrow-next-slot"),this.IQ.forEach((t=>{t.classList.add("i-amphtml-carousel-slotted"),this.gQ.appendChild(t)})),this.MQ.appendChild(s||this.F0()),this.wQ.appendChild(e||this.q0())}Z0(){return c(this.element)(it)}q0(){return c(this.element)(et)}F0(){return c(this.element)(rt)}K0(t){return t>=2?0:1}H0(){const t=g(this.element);this.EQ=new class{constructor(t){const{ampElement:s,intersectionElement:i,intersectionThreshold:e=Y,nearbyMarginInPercent:r=J,viewportIntersectionThreshold:n=e,viewportIntersectionCallback:o=(()=>{})}=t;this.X0=s,this.jN=g(s.element),this.G0=i,this.J0=e,this.Y0=r,this.t1=n,this.s1=o,this.i1=!1,this.e1=[],this.n1=null,this.o1=null,this.Bd=null,this.h1=!1}setQueueChanges(t){this.i1=t}a1(t,s){s?this.jN.scheduleLayout(this.X0.element,t):this.jN.scheduleUnlayout(this.X0.element,t)}l1(t,s){this.s1(t,s)}Th(){if(this.n1&&this.o1&&this.Bd)return;const{win:t}=this.X0;this.n1=new t.IntersectionObserver((t=>this.c1(t)),{root:this.G0,rootMargin:`${this.Y0}%`,threshold:this.J0}),this.o1=new t.IntersectionObserver((t=>this.u1(t)),{root:this.G0,rootMargin:`${this.Y0+10}%`,threshold:this.J0}),this.Bd=new t.IntersectionObserver((t=>this.d1(t)),{root:this.G0,rootMargin:"0%",threshold:this.t1})}c1(t){t.filter((t=>{const{isIntersecting:s}=t;return s})).forEach((t=>{const{target:s}=t;s[X]=0})),this.i1||this.m1()}u1(t){t.filter((t=>{const{isIntersecting:s}=t;return!s})).forEach((t=>{const{target:s}=t;s[X]=1})),this.i1||this._1()}d1(t){t.forEach((t=>{const{isIntersecting:s,target:i}=t;i[G]=s?0:1})),this.i1||this.A1()}flushChanges(){this.m1(),this._1(),this.A1()}m1(){for(let t=0;t<this.e1.length;t++){const s=this.e1[t];0==s[X]&&(this.a1(s,!0),s[X]=null)}}_1(){for(let t=0;t<this.e1.length;t++){const s=this.e1[t];1==s[X]&&(this.a1(s,!1),s[X]=null)}}A1(){for(let t=0;t<this.e1.length;t++){const s=this.e1[t];0==s[G]?(this.a1(s,!0),this.l1(s,!0)):1==s[G]&&this.l1(s,!1),s[G]=null}}f1(t){if("IntersectionObserver"in this.X0.win){if(this.Th(),!t)return this.n1.disconnect(),this.o1.disconnect(),void this.Bd.disconnect();for(let t=0;t<this.e1.length;t++)this.n1.observe(this.e1[t]),this.o1.observe(this.e1[t]),this.Bd.observe(this.e1[t])}}updateChildren(t){if(this.e1=t,"IntersectionObserver"in this.X0.win){for(let t=0;t<this.e1.length;t++)this.jN.setOwner(this.e1[t],this.X0.element);this.f1(!1),this.f1(this.h1)}}wasLaidOut(){this.h1=!0,this.f1(this.h1)}wasUnlaidOut(){this.h1=!1,this.f1(this.h1);for(let t=0;t<this.e1.length;t++)this.a1(this.e1[t],!1),this.l1(this.e1[t],!1)}}({ampElement:this,intersectionElement:this.gQ,nearbyMarginInPercent:this.$$?200:100,viewportIntersectionCallback:(s,i)=>{i?t.scheduleResume(this.element,s):t.schedulePause(this.element,s)}}),this.EQ.setQueueChanges(this.$$);const s=this.IQ.map((t=>"amp-inline-gallery-slide"===t.localName?i(("> :not([slot])",t.querySelectorAll(function(t,s){return t.replace(/^|,/g,"$&:scope ")}("> :not([slot])")))):t)).reduce(((t,s)=>t.concat(s)),[]);this.EQ.updateChildren(s)}Q0(){this.registerAction("prev",(t=>{const{trust:s}=t;this.vQ.prev(this.K0(s))}),1),this.registerAction("next",(t=>{const{trust:s}=t;this.vQ.next(this.K0(s))}),1),this.registerAction("goToSlide",(t=>{var s;const{args:i,trust:e}=t;this.vQ.goToSlide(Number(null!==(s=i.index)&&void 0!==s?s:-1),{actionSource:this.K0(e)})}),1)}gT(){this.element.addEventListener(z,(t=>{this.UZ(t)})),this.element.addEventListener(N,(()=>{this.b1()})),this.element.addEventListener(O,(()=>{this.P1()})),this.element.addEventListener("goToSlide",(t=>{const s=M(t);this.vQ.goToSlide(s.index)})),this.element.addEventListener("keydown",(t=>{this.g1(t)})),this.MQ.addEventListener("click",(t=>{t.target!=t.currentTarget&&this.vQ.prev(0)})),this.wQ.addEventListener("click",(t=>{t.target!=t.currentTarget&&this.vQ.next(0)}))}v1(){return 1===this.vg||0!==this.vg&&this.xQ}yQ(t){switch(t){case"always":this.vg=0;break;case"never":this.vg=1;break;default:this.vg=2}this.D0()}D0(){const t=this.vQ.getCurrentIndex(),s=this.vQ.isLooping(),i=this.vQ.getVisibleCount(),e=this.vQ.isAtEnd(),r=this.vQ.isAtStart();a(this.MQ.children,(i=>{l(i,"disabled",!s&&0===t||r)})),a(this.wQ.children,(r=>{l(r,"disabled",!s&&t>=this.IQ.length-i||e)})),l(this.element,"i-amphtml-base-carousel-hide-buttons",this.v1())}b1(){this.EQ.setQueueChanges(this.$$)}P1(){this.EQ.flushChanges(),this.EQ.setQueueChanges(!1),this.D0()}g1(t){const s="ArrowRight"===t.key,i="ArrowLeft"===t.key;if(!s&&!i)return;const e="rtl"==((r=p(this.element.ownerDocument)).body.getAttribute("dir")||r.documentElement.getAttribute("dir")||"ltr");var r;s&&!e||i&&e?this.vQ.next():this.vQ.prev(),t.preventDefault()}U0(){const t=this.element.getAttribute("slide")||"0";return Number(st(tt(t)))}I1(t){return 2===t||3===t||0===t}UZ(t){const s=M(t),i=s.index,e=s.actionSource,r={"index":i},o="slideChange",a=this.I1(e)?3:1,l=I(this.win,`slidescroll.${o}`,r);this.Hc.trigger(this.element,o,l,a),function(t,s,i,e){const r=i||{};n(t.ownerDocument);const o=t.ownerDocument.createEvent("Event");o.data=r;const{bubbles:a,cancelable:l}=h;o.initEvent("slideChange",a,l),t.dispatchEvent(o)}(this.element,0,r),this.xQ=this.xQ||3===e,this.D0()}W0(t,s){this.bQ.updateAttribute(t,s)}goCallback(t){1===t?this.interactionNext():this.interactionPrev()}};t.registerElement("amp-base-carousel",nt,".i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{visibility:hidden;z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}amp-base-carousel{display:block;overflow:hidden}.i-amphtml-base-carousel-arrows{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;pointer-events:none}.i-amphtml-base-carousel-arrow-next-slot,.i-amphtml-base-carousel-arrow-prev-slot{position:relative;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.i-amphtml-base-carousel-arrow-next-slot>*,.i-amphtml-base-carousel-arrow-prev-slot>*{pointer-events:all}amp-base-carousel[dir=rtl] .i-amphtml-base-carousel-arrow-next-slot,amp-base-carousel[dir=rtl] .i-amphtml-base-carousel-arrow-prev-slot{transform:scaleX(-1)}amp-base-carousel .i-amphtml-carousel-scroll[loop=false]+.i-amphtml-base-carousel-arrows>.i-amphtml-base-carousel-arrow-next-slot>[disabled],amp-base-carousel .i-amphtml-carousel-scroll[loop=false]+.i-amphtml-base-carousel-arrows>.i-amphtml-base-carousel-arrow-prev-slot>[disabled],amp-base-carousel[i-amphtml-base-carousel-hide-buttons] .i-amphtml-base-carousel-arrow-next-slot>*,amp-base-carousel[i-amphtml-base-carousel-hide-buttons] .i-amphtml-base-carousel-arrow-prev-slot>*{opacity:0;pointer-events:none}.i-amphtml-base-carousel-arrow-backdrop,.i-amphtml-base-carousel-arrow-background,.i-amphtml-base-carousel-arrow-frosting{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50%}.i-amphtml-base-carousel-arrow-frosting{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.i-amphtml-base-carousel-arrow-backdrop{-webkit-backdrop-filter:blur(12px) invert(1) grayscale(0.6) brightness(0.8);backdrop-filter:blur(12px) invert(1) grayscale(0.6) brightness(0.8);opacity:0.5}.i-amphtml-base-carousel-arrow-background{background-color:rgba(0,0,0,0.3);box-shadow:inset 0 0 0px 1px rgba(0,0,0,0.08),0 1px 4px 1px rgba(0,0,0,0.2);transition:background-color 200ms}@media (hover:hover){.i-amphtml-base-carousel-arrow:hover .i-amphtml-base-carousel-arrow-background{background-color:hsla(0,0%,100%,0.8)}}.i-amphtml-base-carousel-arrow:active .i-amphtml-base-carousel-arrow-background{background-color:#fff;transition-duration:0ms}.i-amphtml-base-carousel-arrow{position:relative;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;width:36px;height:36px;padding:0;margin:12px;background-color:transparent;border:none;outline:none;stroke:#fff;transition:stroke 200ms}@media (hover:hover){.i-amphtml-base-carousel-arrow:hover{stroke:#222}}.i-amphtml-base-carousel-arrow:active{stroke:#222;transition-duration:0ms}.i-amphtml-base-carousel-arrow-icon{position:relative;z-index:1;width:24px;height:24px}.i-amphtml-base-carousel-arrow-background,.i-amphtml-base-carousel-arrow-icon{transform:translateZ(1px)}amp-base-carousel .i-amphtml-carousel-slotted>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-base-carousel/0.1/amp-base-carousel.css*/")})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-base-carousel-0.1.mjs.map